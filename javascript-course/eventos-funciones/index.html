<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Eventos y Funciones - Tutorial interactivo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-green': '#10b981',
                        'secondary-green': '#059669',
                        'light-green': '#d1fae5',
                        'dark-green': '#065f46',
                        'primary-gray': '#374151',
                        'dark-gray': '#1f2937'
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="../shared-styles.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="bg-gray-50">
    <!-- Barra de progreso sticky -->
    <div class="sticky-progress mx-3 sm:mx-4 md:mx-6">
        <div class="w-full px-3 sm:px-4 md:px-6 py-3">
            <div class="flex items-center justify-between mb-2">
                <h2 class="text-white font-semibold text-sm sm:text-base">📚 Tutorial Eventos y Funciones</h2>
                <span class="text-white text-xs sm:text-sm opacity-90">Progreso: <span id="progress-text" class="font-bold">0%</span></span>
            </div>
            <div class="bg-white bg-opacity-20 rounded-full h-3 overflow-hidden">
                <div id="progress-bar" class="progress-bar h-full rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <div class="w-full px-3 sm:px-4 md:px-6 py-4 sm:py-6">
      <main id="main-content" class="space-y-6 sm:space-y-8">
        
        <!-- Sección: Funciones -->
        <section id="funciones-section" class="content-section">
          <div class="bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-3xl font-bold text-dark-gray mb-6">🔧 Funciones en JavaScript</h2>
            
            <div class="bg-gradient-to-br from-green-50 to-light-green rounded-lg p-6 mb-6">
              <h3 class="text-2xl font-semibold text-dark-green mb-4">💡 ¿Qué son las funciones?</h3>
              <p class="text-lg text-gray-700 mb-4">
                Las <strong>funciones</strong> son bloques de código reutilizables que realizan una tarea específica. 
                Son fundamentales en JavaScript y permiten organizar y estructurar tu código de manera eficiente.
              </p>
              
              <div class="grid md:grid-cols-2 gap-6 mt-6">
                <div class="bg-white p-5 rounded-lg shadow-sm">
                  <h4 class="text-lg font-bold text-green-600 mb-3">🎯 Ventajas</h4>
                  <ul class="text-gray-700 space-y-2">
                    <li>• <strong>Reutilización:</strong> Escribe una vez, usa muchas veces</li>
                    <li>• <strong>Organización:</strong> Código más limpio y mantenible</li>
                    <li>• <strong>Abstracción:</strong> Oculta complejidad</li>
                    <li>• <strong>Modularidad:</strong> Divide problemas grandes</li>
                  </ul>
                </div>
                
                <div class="bg-white p-5 rounded-lg shadow-sm">
                  <h4 class="text-lg font-bold text-purple-600 mb-3">📝 Tipos de funciones</h4>
                  <ul class="text-gray-700 space-y-2">
                    <li>• <strong>Declaración:</strong> function nombre() {}</li>
                    <li>• <strong>Expresión:</strong> const nombre = function() {}</li>
                    <li>• <strong>Flecha:</strong> const nombre = () => {}</li>
                    <li>• <strong>Anónima:</strong> function() {}</li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Anatomía de una función -->
            <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-6 mb-6">
              <h3 class="text-2xl font-semibold text-dark-gray mb-4">🔍 Anatomía de una función</h3>
              <pre class="code">
function saludar(nombre) {        // ← Declaración con parámetro
  const mensaje = `¡Hola, ${nombre}!`;  // ← Cuerpo de la función
  return mensaje;                 // ← Valor de retorno
}

const resultado = saludar("Ana"); // ← Llamada con argumento
console.log(resultado);           // ← ¡Hola, Ana!
              </pre>
            </div>

            <!-- Ejemplos interactivos -->
            <div class="grid md:grid-cols-2 gap-6">
              <div class="interactive-card bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-lg border border-green-200">
                <h4 class="text-lg font-semibold text-dark-green mb-4">🎯 Función básica</h4>
                <p class="text-gray-700 mb-4 text-sm">Crea una función que salude:</p>
                <div class="bg-white p-4 rounded-lg mb-4 border-2 border-dashed border-gray-300">
                  <input id="nombre-input" type="text" placeholder="Escribe tu nombre" class="w-full border border-gray-300 rounded-lg px-3 py-2 mb-2" />
                  <button id="btn-saludar" class="w-full bg-primary-green text-white py-3 px-6 rounded-lg font-semibold hover:bg-secondary-green transition-all hover-lift">
                    👋 Saludar
                  </button>
                  <p id="resultado-saludo" class="mt-3 text-center text-lg font-semibold text-green-700"></p>
                </div>
              </div>
              
              <div class="interactive-card bg-gradient-to-br from-gray-50 to-gray-100 p-6 rounded-lg border border-gray-200">
                <h4 class="text-lg font-semibold text-dark-gray mb-4">🧮 Función con cálculo</h4>
                <p class="text-gray-700 mb-4 text-sm">Calcula el área de un rectángulo:</p>
                <div class="bg-white p-4 rounded-lg mb-4 border-2 border-dashed border-gray-300">
                  <input id="ancho-input" type="number" placeholder="Ancho" class="w-full border border-gray-300 rounded-lg px-3 py-2 mb-2" />
                  <input id="alto-input" type="number" placeholder="Alto" class="w-full border border-gray-300 rounded-lg px-3 py-2 mb-2" />
                  <button id="btn-calcular" class="w-full bg-dark-gray text-white py-3 px-6 rounded-lg font-semibold hover:bg-primary-gray transition-all hover-lift">
                    📐 Calcular área
                  </button>
                  <p id="resultado-area" class="mt-3 text-center text-lg font-semibold text-gray-700"></p>
                </div>
              </div>
            </div>

            <!-- Funciones flecha -->
            <div class="bg-light-green rounded-lg p-6 mt-6">
              <h3 class="text-xl font-semibold text-dark-green mb-4">⚡ Funciones flecha (Arrow Functions)</h3>
              <p class="text-gray-700 mb-4">Sintaxis moderna y concisa introducida en ES6:</p>
              <div class="grid md:grid-cols-2 gap-4">
                <div class="bg-white p-4 rounded-lg">
                  <h4 class="font-bold text-secondary-green mb-2">Tradicional</h4>
                  <pre class="code text-sm">
function sumar(a, b) {
  return a + b;
}
                  </pre>
                </div>
                <div class="bg-white p-4 rounded-lg">
                  <h4 class="font-bold text-secondary-green mb-2">Flecha</h4>
                  <pre class="code text-sm">
const sumar = (a, b) => {
  return a + b;
}
// O más corto:
const sumar = (a, b) => a + b;
                  </pre>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Sección: Eventos -->
        <section id="eventos-section" class="content-section">
          <div class="bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-3xl font-bold text-dark-gray mb-6">⚡ Eventos en JavaScript</h2>
            
            <div class="bg-gradient-to-br from-green-50 to-light-green rounded-lg p-6 mb-6">
              <h3 class="text-2xl font-semibold text-dark-green mb-4">💡 ¿Qué son los eventos?</h3>
              <p class="text-lg text-gray-700 mb-4">
                Los <strong>eventos</strong> son acciones o sucesos que ocurren en el navegador. 
                Pueden ser iniciados por el usuario (clic, tecla) o por el sistema (carga de página).
              </p>
              
              <div class="grid md:grid-cols-3 gap-4 mt-6">
                <div class="bg-white p-4 rounded-lg border border-green-200">
                  <div class="text-2xl mb-2">🖱️</div>
                  <h4 class="font-bold text-green-700 mb-2">Mouse</h4>
                  <p class="text-sm text-gray-600">click, dblclick, mouseover, mouseout, mousemove</p>
                </div>
                
                <div class="bg-white p-4 rounded-lg border border-green-200">
                  <div class="text-2xl mb-2">⌨️</div>
                  <h4 class="font-bold text-secondary-green mb-2">Teclado</h4>
                  <p class="text-sm text-gray-600">keydown, keyup, keypress</p>
                </div>
                
                <div class="bg-white p-4 rounded-lg border border-green-200">
                  <div class="text-2xl mb-2">📝</div>
                  <h4 class="font-bold text-dark-green mb-2">Formulario</h4>
                  <p class="text-sm text-gray-600">submit, change, input, focus, blur</p>
                </div>
              </div>
            </div>

            <!-- addEventListener -->
            <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-6 mb-6">
              <h3 class="text-2xl font-semibold text-dark-gray mb-4">🎧 addEventListener()</h3>
              <p class="text-gray-700 mb-4">La forma moderna y recomendada de manejar eventos:</p>
              <pre class="code">
elemento.addEventListener('evento', function(e) {
  // Código a ejecutar cuando ocurra el evento
  console.log('Evento disparado!', e);
});

// Ejemplo real:
const boton = document.getElementById('miBoton');
boton.addEventListener('click', (e) => {
  console.log('¡Botón clickeado!');
  e.target.style.backgroundColor = 'green';
});
              </pre>
            </div>

            <!-- Ejemplos interactivos de eventos -->
            <div class="grid md:grid-cols-2 gap-6">
              <div class="interactive-card bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-lg border border-green-200">
                <h4 class="text-lg font-semibold text-dark-green mb-4">🖱️ Evento Click</h4>
                <div class="bg-white p-4 rounded-lg mb-4 border-2 border-dashed border-gray-300">
                  <button id="btn-click-demo" class="w-full bg-primary-green text-white py-3 px-6 rounded-lg font-semibold hover:bg-secondary-green transition-all hover-lift">
                    Haz clic aquí
                  </button>
                  <p id="click-counter" class="mt-3 text-center text-lg font-semibold text-green-700">Clics: 0</p>
                </div>
              </div>
              
              <div class="interactive-card bg-gradient-to-br from-gray-50 to-gray-100 p-6 rounded-lg border border-gray-200">
                <h4 class="text-lg font-semibold text-dark-gray mb-4">⌨️ Evento Teclado</h4>
                <div class="bg-white p-4 rounded-lg mb-4 border-2 border-dashed border-gray-300">
                  <input id="keyboard-input" type="text" placeholder="Escribe algo..." class="w-full border border-gray-300 rounded-lg px-3 py-2 mb-2" />
                  <p id="keyboard-output" class="mt-3 text-center text-sm text-gray-600">Caracteres: 0</p>
                </div>
              </div>
            </div>

            <!-- Objeto Event -->
            <div class="bg-light-green rounded-lg p-6 mt-6">
              <h3 class="text-xl font-semibold text-dark-green mb-4">📦 Objeto Event</h3>
              <p class="text-gray-700 mb-4">Cada evento viene con un objeto que contiene información útil:</p>
              <div class="grid md:grid-cols-2 gap-4">
                <div class="bg-white p-4 rounded-lg">
                  <h4 class="font-bold text-secondary-green mb-2">Propiedades comunes</h4>
                  <ul class="text-sm text-gray-700 space-y-1">
                    <li>• <code>e.target</code> - Elemento que disparó el evento</li>
                    <li>• <code>e.type</code> - Tipo de evento ('click', 'keydown'...)</li>
                    <li>• <code>e.preventDefault()</code> - Previene acción por defecto</li>
                    <li>• <code>e.stopPropagation()</code> - Detiene propagación</li>
                  </ul>
                </div>
                <div class="bg-white p-4 rounded-lg">
                  <h4 class="font-bold text-secondary-green mb-2">Específicas de mouse</h4>
                  <ul class="text-sm text-gray-700 space-y-1">
                    <li>• <code>e.clientX</code>, <code>e.clientY</code> - Posición del cursor</li>
                    <li>• <code>e.button</code> - Botón presionado</li>
                    <li>• <code>e.ctrlKey</code>, <code>e.shiftKey</code> - Teclas modificadoras</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Sección: Eventos + Funciones -->
        <section id="eventos-funciones-section" class="content-section">
          <div class="bg-white rounded-lg shadow-lg p-8">
            <h2 class="text-3xl font-bold text-dark-gray mb-6">🔗 Eventos + Funciones: La Combinación Perfecta</h2>
            
            <div class="bg-gradient-to-br from-green-50 to-light-green rounded-lg p-6 mb-6">
              <h3 class="text-2xl font-semibold text-dark-green mb-4">💡 ¿Por qué combinarlos?</h3>
              <p class="text-lg text-gray-700 mb-4">
                Las funciones son perfectas para <strong>manejar eventos</strong>. Puedes definir una función 
                y usarla como manejador de eventos, haciendo tu código más organizado y reutilizable.
              </p>
              
              <div class="bg-white p-5 rounded-lg shadow-sm mt-4">
                <h4 class="text-lg font-bold text-green-600 mb-3">✨ Patrón común</h4>
                <pre class="code">
// 1. Definir la función manejadora
function manejarClick(evento) {
  console.log('Botón clickeado!');
  evento.target.textContent = '¡Hecho!';
}

// 2. Obtener el elemento
const boton = document.getElementById('miBoton');

// 3. Asociar la función al evento
boton.addEventListener('click', manejarClick);
                </pre>
              </div>
            </div>

            <!-- Ejemplos prácticos -->
            <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-6 mb-6">
              <h3 class="text-2xl font-semibold text-dark-gray mb-4">🎯 Ejemplos prácticos</h3>
              
              <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white p-4 rounded-lg">
                  <h4 class="font-bold text-secondary-green mb-2">❌ Menos organizado</h4>
                  <pre class="code text-sm">
boton.addEventListener('click', (e) => {
  // Mucho código aquí...
  const valor = calcular();
  mostrar(valor);
  validar();
  // Más código...
});
                  </pre>
                </div>
                
                <div class="bg-white p-4 rounded-lg">
                  <h4 class="font-bold text-secondary-green mb-2">✅ Más organizado</h4>
                  <pre class="code text-sm">
function procesarClick(e) {
  const valor = calcular();
  mostrar(valor);
  validar();
}

boton.addEventListener('click', 
  procesarClick);
                  </pre>
                </div>
              </div>
            </div>

            <!-- Proyecto interactivo -->
            <div class="interactive-card bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-lg border border-green-200">
              <h3 class="text-2xl font-semibold text-dark-green mb-4">🎮 Proyecto: Contador Interactivo</h3>
              <p class="text-gray-700 mb-4">Combina eventos y funciones para crear un contador:</p>
              
              <div class="bg-white p-6 rounded-lg mb-4 border-2 border-dashed border-gray-300">
                <div class="text-center mb-4">
                  <div class="text-6xl font-bold text-primary-green mb-4" id="contador-display">0</div>
                  <div class="flex gap-2 justify-center flex-wrap">
                    <button id="btn-incrementar" class="bg-primary-green text-white px-6 py-3 rounded-lg font-semibold hover:bg-secondary-green transition-all hover-lift">
                      ➕ Incrementar
                    </button>
                    <button id="btn-decrementar" class="bg-red-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-600 transition-all hover-lift">
                      ➖ Decrementar
                    </button>
                    <button id="btn-resetear" class="bg-gray-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 transition-all hover-lift">
                      🔄 Resetear
                    </button>
                  </div>
                </div>
                
                <div class="mt-4 p-4 bg-gray-50 rounded-lg">
                  <h5 class="font-bold text-gray-700 mb-2">📝 Código del proyecto:</h5>
                  <pre class="code text-xs">
let contador = 0;

function actualizarDisplay() {
  document.getElementById('contador-display').textContent = contador;
}

function incrementar() {
  contador++;
  actualizarDisplay();
}

function decrementar() {
  contador--;
  actualizarDisplay();
}

function resetear() {
  contador = 0;
  actualizarDisplay();
}

// Asociar eventos
document.getElementById('btn-incrementar').addEventListener('click', incrementar);
document.getElementById('btn-decrementar').addEventListener('click', decrementar);
document.getElementById('btn-resetear').addEventListener('click', resetear);
                  </pre>
                </div>
              </div>
            </div>

            <!-- Delegación de eventos -->
            <div class="bg-light-green rounded-lg p-6 mt-6">
              <h3 class="text-xl font-semibold text-dark-green mb-4">🎯 Delegación de eventos</h3>
              <p class="text-gray-700 mb-4">Técnica avanzada: un solo listener para múltiples elementos:</p>
              <div class="bg-white p-4 rounded-lg">
                <pre class="code text-sm">
// En lugar de esto:
botones.forEach(btn => btn.addEventListener('click', manejar));

// Haz esto (más eficiente):
contenedor.addEventListener('click', (e) => {
  if (e.target.matches('button')) {
    manejar(e);
  }
});
                </pre>
              </div>
            </div>

            <!-- Resumen final -->
            <div class="bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-lg mt-6">
              <h3 class="text-xl font-semibold text-dark-green mb-4">📚 Resumen: Mejores prácticas</h3>
              <div class="grid md:grid-cols-2 gap-4">
                <div>
                  <h4 class="font-bold text-secondary-green mb-2">✅ Hacer</h4>
                  <ul class="text-sm text-gray-700 space-y-1">
                    <li>• Usar <code>addEventListener</code></li>
                    <li>• Separar funciones de eventos</li>
                    <li>• Nombrar funciones descriptivamente</li>
                    <li>• Usar funciones flecha cuando sea apropiado</li>
                    <li>• Considerar delegación de eventos</li>
                  </ul>
                </div>
                <div>
                  <h4 class="font-bold text-red-500 mb-2">❌ Evitar</h4>
                  <ul class="text-sm text-gray-700 space-y-1">
                    <li>• Atributos HTML onclick</li>
                    <li>• Funciones anónimas complejas</li>
                    <li>• Múltiples listeners para lo mismo</li>
                    <li>• Olvidar remover listeners</li>
                    <li>• Código duplicado en manejadores</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>

      </main>
    </div>
    <script src="app.js"></script>
  </body>
</html>
